var fs = require('fs'),
    url = require('url'),
    querystring = require('querystring');

exports.register = function(req, res){
	/*var retHtml = fs.readFileSync(BASE_DIR + '/static/html/index.html');
	console.log("index has already returned!");

	res.writeHead(200, {'Content-Type' : 'text/html'});
    res.write(retHtml);
    res.end();*/

    var queryStr = url.parse(req.url).query,
        queryParam = querystring.parse(queryStr);
    console.log(queryStr);

    var params = {
    	"errorcode" : 0,
    	"loginaccount" : 0,
    	"account" : 0
    };

    if(queryStr == null){
        console.log("register has already returned!");
        res.render(BASE_DIR + '/static/template/register.jade', {'params' : params});

    }else if(queryParam.errorcode != null){
    	params.errorcode = queryParam.errorcode*1;
        console.log("register has already returned!");
        res.render(BASE_DIR + '/static/template/register.jade', {'params' : params});

    }else{
    	params.loginaccount = queryParam.loginaccount*1;
    	params.account = queryParam.account*1;
        console.log("register has already returned!");
        res.render(BASE_DIR + '/static/template/register.jade', {'params' : params});

    }
};