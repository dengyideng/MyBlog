var fs = require('fs'),
    url = require('url'),
    querystring = require('querystring');

exports.login = function(req, res){
	/*var retHtml = fs.readFileSync(BASE_DIR + '/static/html/index.html');
	console.log("index has already returned!");

	res.writeHead(200, {'Content-Type' : 'text/html'});
    res.write(retHtml);
    res.end();*/

    var queryStr = url.parse(req.url).query,
        queryParam = querystring.parse(queryStr);
    console.log(queryParam);

    if(queryParam.errorcode == null){
        console.log("login has already returned!");
        res.render(BASE_DIR + '/static/template/login.jade');

    }else{
        console.log("login has already returned!");
        res.render(BASE_DIR + '/static/template/login.jade', {'errorcode' : queryParam.errorcode*1});
    }
};